"use strict";var express=require("express"),morgan=require("morgan"),sequelize=require("./models").sequelize,routes=require("./routes"),enableGlobalErrorLogging="true"===process.env.ENABLE_GLOBAL_ERROR_LOGGING,app=express();app.use(morgan("dev")),app.use(express.json()),app.use("/api",routes),app.get("/",function(e,s){s.json({message:"Welcome to the REST API project!"})}),app.use(function(e,s){s.status(404).json({message:"Route Not Found"})}),app.use(function(e,s,o,r){enableGlobalErrorLogging&&console.error("Global error handler: ".concat(JSON.stringify(e.stack))),o.status(e.status||500).json({message:e.message,error:{}})}),app.set("port",process.env.PORT||5e3);var server=app.listen(app.get("port"),function(){console.log("Express server is listening on port ".concat(server.address().port))});sequelize.sync(function(){sequelize.authentificate()?console.log("database connection established successfully "):console.log("database not connected")});